(this["webpackJsonplibrary-system"]=this["webpackJsonplibrary-system"]||[]).push([[0],{26:function(e,a,t){e.exports=t(42)},31:function(e,a,t){},35:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(11),l=t.n(o),c=(t(31),t(3)),s=r.a.createContext(),u=function(e){var a=r.a.useState({adminDetails:{id:"mittal.karan60@gmail.com",phone:"9958708339",password:"12345678"},users:[],books:[]}),t=Object(c.a)(a,2),n=t[0],o=t[1];return r.a.createElement(s.Provider,{value:[n,o]},e.children)},i=t(14),m=t(9),d={landing:"/",signIn:"/signin",signUp:"/signup",books:"/books"},b=t(17),p=t(10);t(19);function h(e){return void 0!==e&&null!==e&&""!==e}var g=function(){var e=r.a.useContext(s),a=Object(c.a)(e,2),t=a[0],n=a[1];return{adminDetails:t.adminDetails,users:t.users,books:t.books,addNewBook:function(e){return n((function(a){return Object(p.a)({},a,{books:[].concat(Object(b.a)(a.books),[e])})})),{success:!0,message:"Book Added successfully"}},updateBook:function(e){if(h(t.books)){var a=t.books.findIndex((function(a){return a.id===e.id})),r=Object(b.a)(t.books);return r[a].name=e.name,r[a].author=e.author,r[a].date=e.date,r[a].description=e.description,n((function(e){return Object(p.a)({},e,{books:r})})),{success:!0,message:"Book updated successfully"}}return{success:!1,message:"No Books Available"}},signIn:function(e){var a={success:!1,message:""};return""===e.id?a.message="Id can not be null":""===e.password?a.message="Password can not be null":""===e.phone?(a.message="Phone can not be null",console.log("length==>",e.phone.toString().length)):10!==e.phone.toString().length?a.message="Phone must be of 10 digit":e.id!==t.adminDetails.id?a.message="Id is not registered":e.phone!==t.adminDetails.phone?a.message="Incorrect Phone":e.password!==t.adminDetails.password?a.message="Incorrect Password":(a.message="Login succesfull",a.success=!0),a},addUsers:function(e){n((function(a){return Object(p.a)({},a,{users:[].concat(Object(b.a)(a.users),[e])})}))}}},f=function(e){var a=e.label,t=e.value,n=e.placeholder,o=e.onChange,l=e.type,c=e.name,s=e.isTextArea;return r.a.createElement("div",{className:"form-group"},""===a?r.a.createElement(r.a.Fragment,null):r.a.createElement("label",null,a),s?r.a.createElement("textarea",{rows:"3",type:l,name:c,className:"form-control",placeholder:n,value:t,onChange:o}):r.a.createElement("input",{type:l,name:c,className:"form-control",placeholder:n,value:t,onChange:o}))};f.defaultProps={label:"",value:"",onChange:function(){},type:"text",placeholder:"",name:"",isTextArea:!1};var v=f,E=function(e){var a,t=e.label,n=e.value,o=e.placeholder,l=e.onChange,c=e.options;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,t),r.a.createElement("select",{name:"",id:"",className:"form-control",placeholder:o,value:n,onChange:l},void 0!==(a=c)&&null!==a&&Array.isArray(a)&&a.length>0?c.map((function(e,a){return r.a.createElement("option",{value:e.value,key:a},e.label)})):r.a.createElement("option",{value:""},"No Options Available")))};E.defaultProps={label:"",value:"",onChange:function(){},type:"text",placeholder:"",options:[]};var k=E,O=t(6),j=function(e){O.b.configure({autoClose:3e3,draggable:!1,hideProgressBar:!0});var a=g().signIn,t=Object(n.useState)(""),o=Object(c.a)(t,2),l=o[0],s=o[1],u=Object(n.useState)(""),i=Object(c.a)(u,2),m=i[0],b=i[1],p=Object(n.useState)(""),h=Object(c.a)(p,2),f=h[0],E=h[1],j=Object(n.useState)(""),N=Object(c.a)(j,2),y=N[0],w=N[1];return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(O.a,null),r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h3",null,"Welcome to Library system")),r.a.createElement("form",null,r.a.createElement(v,{type:"email",name:"email",label:"Email address",value:l,onChange:function(e){var a=e.target.value;return s(a)},placeholder:"Enter Email"}),r.a.createElement(v,{type:"number",name:"phone",label:"Phone No.",value:y,onChange:function(e){var a=e.target.value;return w(a)},placeholder:"Enter Phone"}),r.a.createElement(v,{label:"Password",value:m,onChange:function(e){var a=e.target.value;return b(a)},placeholder:"Enter Password"}),r.a.createElement(k,{label:"User Type",value:f,onChange:function(e){var a=e.target.value;return E(a)},options:[{value:"",label:"Please Select user type"},{value:"admin",label:"Admin"},{value:"user",label:"User"}]}),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){t.preventDefault(),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(l)||O.b.error("Please enter valid email");var n={id:l,phone:y,password:m},r=a(n);r.success?(O.b.success(r.message),e.history.push(d.books)):O.b.error(r.message),console.log("data===>",n)}},"Submit")))))},N=function(e){var a=e.tableHead,t=e.tableBody;return r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,function(){var e=[];return a.forEach((function(a,t){e.push(r.a.createElement("th",{key:t},a))})),e}())),r.a.createElement("tbody",null,function(){var e=[];return t.forEach((function(a,t){e.push(r.a.createElement("tr",{key:t},function(e){return Object.entries(e).map((function(e,a){var t=Object(c.a)(e,2),n=t[0],o=t[1];return r.a.createElement("td",{key:a+n},o)}))}(a)))})),t.length>0||(e=[r.a.createElement("tr",{key:"123"},r.a.createElement("td",{className:"text-center",colSpan:a.length},"No Data"))]),e}()))};N.defaultProps={tableHead:["First","Second","..."],tableBody:[{name:"karan",age:"21",heigh:"5.9"},{name:"bunny",age:"21",heigh:"5.9"}]};var y=N;t(35);function w(e){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"modal-wrapper",style:e.show?{display:"block"}:{display:"none"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"close-btn"},r.a.createElement("span",{onClick:e.hidePopup},"x")),e.children)))}w.defaultProps={show:!1};var B=w,C=function(e){var a=e.show,t=e.hidePopup,o=e.updateMode,l=e.editBookData;O.b.configure({autoClose:3e3,draggable:!1,hideProgressBar:!0});var s=Object(n.useState)(""),u=Object(c.a)(s,2),i=u[0],m=u[1],d=Object(n.useState)(""),b=Object(c.a)(d,2),f=b[0],E=b[1],k=Object(n.useState)(""),j=Object(c.a)(k,2),N=j[0],y=j[1],w=Object(n.useState)(""),C=Object(c.a)(w,2),P=C[0],S=C[1],x=g(),D=x.addNewBook,A=x.updateBook;Object(n.useEffect)((function(){h(l)?(m(l.name),E(l.author),S(l.date),y(l.description)):I()}),[l]),Object(n.useEffect)((function(){I()}),[]);var I=function(){m(""),E(""),S(""),y("")},F=function(e){var a=e.target,t=a.name,n=a.value;"name"===t?m(n):"author"===t?E(n):"description"===t?y(n):"date"===t&&S(n)};return r.a.createElement(B,{show:a,hidePopup:t},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",null,"AddBookPopup")),r.a.createElement("div",{className:"add-book-popup"},r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(e){e&&e.preventDefault();var a={id:Date.now(),name:i,author:f,date:P,description:N},n=o?A(Object(p.a)({},a,{id:l.id})):D(a);n.success?(t(),O.b.success(n.message)):(t(),O.b.error(n.message))}},r.a.createElement(v,{label:"Book Name",name:"name",placeholder:"Book Name",value:i,onChange:F}),r.a.createElement(v,{label:"Author Name",name:"author",placeholder:"Author Name",value:f,onChange:F}),r.a.createElement(v,{type:"date",label:"Date of publish",name:"date",placeholder:"Date of publish",value:P,onChange:F}),r.a.createElement(v,{isTextArea:!0,label:"Description",name:"description",placeholder:"Enter book description",value:N,onChange:F}),r.a.createElement("button",{className:"btn form-control"},o?"Update":"Add")))))},P=[{path:d.signIn,component:j,auth:!1,exact:!1},{path:d.signUp,component:j,auth:!1,exact:!1},{path:d.books,component:function(){var e=g().books,a=Object(n.useState)([]),t=Object(c.a)(a,2),o=t[0],l=t[1],s=Object(n.useState)(!1),u=Object(c.a)(s,2),i=u[0],m=u[1],d=Object(n.useState)(!1),b=Object(c.a)(d,2),p=b[0],h=b[1],f=Object(n.useState)(null),E=Object(c.a)(f,2),k=E[0],O=E[1],j=function(){m((function(e){return!e})),O(null),h(!1)};Object(n.useEffect)((function(){var a=e.map((function(e,a){return e.edit=r.a.createElement("span",{onClick:function(){return function(e){m(!0),h(!0),O(e)}(e)}},r.a.createElement("i",{className:"fas fa-edit"})),e}));l(a)}),[e]);var N=Object(n.useState)(""),w=Object(c.a)(N,2),B=w[0],P=w[1],S=Object(n.useState)([]),x=Object(c.a)(S,2),D=x[0],A=x[1];return r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"col-4"},r.a.createElement(v,{label:"",name:"search",placeholder:"Search Book",value:B,onChange:function(e){var a=e.target,t=a.name,n=a.value;"search"===t&&P(n);var r=o.filter((function(e){return!!e.name.includes(n)}));A(r)}})),r.a.createElement("div",{className:"col-4"}),r.a.createElement("div",{className:"float-right"},r.a.createElement("button",{className:"btn btn-success",onClick:j},"Add New Book"))),r.a.createElement("div",{className:"text-center"},r.a.createElement("h2",null,"Book List")),r.a.createElement("div",{className:"books-table"},r.a.createElement(y,{tableHead:["Book Id","Book Name","Author","Publish Date","Description","Edit"],tableBody:""===B?o:D})),r.a.createElement(C,{show:i,hidePopup:j,updateMode:p,editBookData:k}))},auth:!1,exact:!1},{key:d.login,path:d.login,component:j,auth:!1,exact:!1}],S=t(16),x=function(){var e=g().userDetails;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"text-center"},"Hello ",e)))},D=function(e){return O.b.configure({autoClose:3e3,draggable:!1,hideProgressBar:!0}),r.a.createElement(r.a.Fragment,null,r.a.createElement(x,null),e.children)},A=function(e){var a=e.component,t=Object(S.a)(e,["component"]);return r.a.createElement(m.b,Object.assign({},t,{render:function(e){return""!==localStorage.getItem("token")?r.a.createElement(D,e,r.a.createElement(a,e)):r.a.createElement(m.a,{to:{pathname:"/",state:{from:e.location}}})}}))},I=function(e){return O.b.configure({autoClose:3e3,draggable:!1,hideProgressBar:!0}),r.a.createElement(r.a.Fragment,null,e.children)},F=function(e){var a=e.component,t=Object(S.a)(e,["component"]);return r.a.createElement(m.b,Object.assign({},t,{render:function(e){return r.a.createElement(I,e,r.a.createElement(a,e))}}))};var U=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,"404 Not Found"))};var H=function(){return r.a.createElement(u,null,r.a.createElement(i.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/"},r.a.createElement(m.a,{to:d.signIn})),P.map((function(e,a){return e.auth?r.a.createElement(A,Object.assign({},e,{key:a})):r.a.createElement(F,Object.assign({},e,{key:a}))})),r.a.createElement(m.b,{path:"*",exact:!0,component:U}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(39),t(40),t(41);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.7454350e.chunk.js.map